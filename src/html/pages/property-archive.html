<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Архив объявлений - Real Estate</title>
  </head>
  <body>
    <app-header></app-header>

    <main class="page-content">
      <div id="app">
        <div class="archived-listings-page">
          <div class="container">
            <nav
              class="breadcrumb"
              aria-label="Breadcrumb navigation"
              role="navigation"
            >
              <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                  <a class="breadcrumb-link" href="/">Главная</a>
                </li>
                <li class="breadcrumb-item">
                  <a class="breadcrumb-link" href="/my-advertisements.html"
                    >Мои объявления</a
                  >
                </li>
                <li class="breadcrumb-item">
                  <a
                    class="breadcrumb-link"
                    href="/archived-advertisements.html"
                    >Архив объявлений</a
                  >
                </li>
              </ol>
            </nav>

            <div
              class="page-header d-flex justify-content-between align-items-center my-3"
            >
              <div class="d-flex justify-content-end align-items-center">
                <a
                  href="/my-advertisements.html"
                  class="brand-button brand-button--solid brand-button--turquoise"
                >
                  <i class="bi bi-arrow-left me-2"></i>
                  Активные объявления
                </a>
              </div>
            </div>

            <div class="my-listings-list">
              <property-list-component>
                <!-- Здесь только архивные объявления -->
                <my-property-card
                  listing-id="458"
                  title-text="3-к. квартира, 120 м2 | Элитный район"
                  title-href="/property-details/458"
                  price-text="₽ 25 000 000 (Продано)"
                  details-json='[
                      {"label":"Название комплекса", "value":"ЖК «Элит»"},
                      {"label":"Улица", "value":"Парковая ул."},
                      {"label":"Этаж", "value":"10/20"},
                      {"label":"Состояние", "value":"Евроремонт"},
                      {"label":"Размещено", "value":"15-Янв-2024"},
                      {"label":"Продано", "value":"20-Мар-2024"}
                  ]'
                  status="В архиве"
                  show-actions="true"
                  delete-href="/api/listings/458/delete"
                  restore-href="/api/listings/458/restore"
                >
                </my-property-card>

                <my-property-card
                  listing-id="462"
                  title-text="Таунхаус, 180 м2 | Загородный"
                  title-href="/property-details/462"
                  price-text="₽ 28 500 000 (Продано)"
                  details-json='[
                      {"label":"Название комплекса", "value":"КП «Зеленый Берег»"},
                      {"label":"Улица", "value":"Дачная ул."},
                      {"label":"Этаж", "value":"2 этажа"},
                      {"label":"Состояние", "value":"Готов к проживанию"},
                      {"label":"Размещено", "value":"10-Фев-2024"},
                      {"label":"Продано", "value":"05-Апр-2024"}
                  ]'
                  status="В архиве"
                  show-actions="true"
                  delete-href="/api/listings/462/delete"
                  restore-href="/api/listings/462/restore"
                >
                </my-property-card>
              </property-list-component>
              <simple-pagination
                current-page="1"
                total-pages="1"
                max-page-links="3"
                page-href-template="/archived-advertisements?p={page_num}"
              >
              </simple-pagination>
            </div>
          </div>
        </div>
      </div>
    </main>
    <app-footer></app-footer>
    <div class="toast-container position-fixed bottom-0 end-0 p-3"></div>

    <app-confirm-modal
      modal-id="restoreListingModal"
      title="Восстановить объявление"
      message="Вы уверены, что хотите восстановить это объявление из архива?"
      confirm-text="Восстановить"
      confirm-class="btn-brand-lime-green"
    >
      <input type="hidden" id="restoreListingId" />
    </app-confirm-modal>

    <app-confirm-modal
      modal-id="deleteListingModal"
      title="Удалить объявление"
      message="Вы уверены, что хотите удалить это объявление? Это действие нельзя отменить."
      confirm-text="Удалить"
      confirm-class="btn-brand-bright-pink"
    >
      <input type="hidden" id="deleteListingId" />
    </app-confirm-modal>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom Elements Scripts -->
    <script type="module">
      import { AppHeader } from "/src/js/custom_elements_for_preview/app-header.js";
      import { AppFooter } from "/src/js/custom_elements_for_preview/app-footer.js";
      import { MyPropertyCard } from "/src/js/custom_elements_for_preview/my-property-card.js";
      import { PropertyListComponent } from "/src/js/custom_elements_for_preview/property-list-component.js";
      import { SimplePagination } from "/src/js/custom_elements_for_preview/pagination.js";
      import { AppConfirmModal } from "/src/js/custom_elements_for_preview/app-confirm-modal.js";

      customElements.define("app-header", AppHeader);
      customElements.define("app-footer", AppFooter);
      customElements.define("my-property-card", MyPropertyCard);
      customElements.define("property-list-component", PropertyListComponent);
      customElements.define("simple-pagination", SimplePagination);
      customElements.define("app-confirm-modal", AppConfirmModal);
    </script>

    <!-- Page Logic -->
    <script type="module" src="/src/js/pages/archive/index.js"></script>
  </body>
</html>
