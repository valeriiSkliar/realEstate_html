<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="csrf-token" content="csrf-token" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real Estate - My Collections</title>
    <script>
      var API_PATHS = {
        createCollection: "/api/collections/create",
        /**
         * Generate API path for addPropertyToCollection
         * @param {string} id - Collection ID
         * @returns {string} API path for collection properties
         */
        addPropertyToCollection: (collectionId, propertyId) =>
          `/api/collections/${collectionId}/properties/${propertyId}`,
        /**
         * Generate API path for a specific property within a collection
         * @param {string} collectionId - Collection ID
         * @param {string} propertyId - Property ID
         * @returns {string} API path for the specific property in collection
         */
        removePropertyFromCollection: (collectionId, propertyId) =>
          `/api/collections/${collectionId}/properties/${propertyId}`,
        /**
         * Generate API path to bulk update property collections
         * @param {string} propertyId - Property ID
         * @returns {string} API path for bulk updating property's collections
         */
        updatePropertyCollections: (propertyId) =>
          `/api/properties/${propertyId}/collections`,
        /**
         * Generate API path to get collection selector HTML markup
         * @param {string} propertyId - Property ID
         * @returns {string} API path for getting collection selector markup
         */
        getCollectionSelectorMarkup: (propertyId) =>
          `/api/properties/${propertyId}/collection-selector-markup`,
      };
    </script>
  </head>
  <body>
    <app-header></app-header>
    <app-mobile-menu></app-mobile-menu>

    <!-- Overlay for mobile menu -->
    <div class="overlay js-overlay"></div>

    <!-- Main Content Area -->
    <main class="page-content">
      <div id="app">
        <div class="collection-page">
          <!-- Breadcrumb -->
          <nav
            class="breadcrumb"
            aria-label="Breadcrumb navigation"
            role="navigation"
          >
            <ol class="breadcrumb-list">
              <li class="breadcrumb-item">
                <a class="breadcrumb-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
              </li>
              <li class="breadcrumb-item">
                <a class="breadcrumb-link" href="/collections.html">
                  –ü–æ–¥–±–æ—Ä–∫–∏
                </a>
              </li>
              <li class="breadcrumb-item active-page">
                <span class="breadcrumb-text">–ü—Ä–æ—Å–º–æ—Ç—Ä –ü–æ–¥–±–æ—Ä–∫–∏</span>
              </li>
            </ol>
          </nav>
          <!-- End Breadcrumb -->
          <div class="container mt-3">
            <div
              class="page-header mb-1 d-flex flex-column gap-2 align-items-center"
            >
              <div
                class="js-page-header-actions d-flex justify-content-between w-100 items-center"
              >
                <a
                  href="/collections.html"
                  class="brand-button brand-button--solid brand-button--turquoise"
                >
                  <i class="bi bi-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ –ü–æ–¥–±–æ—Ä–∫–∞–º
                </a>
                <a
                  href="/collections-edit.html?id=coll_2"
                  class="collection-item__actions justify-content-center items-center gap-0 d-flex brand-button h-100 brand-button--solid brand-button--lime-green text-brand-dark-navy"
                >
                  <i class="bi bi-pencil"></i>
                </a>
              </div>
              <!-- <strong>–ù–∞–∑–≤–∞–Ω–∏–µ –ü–æ–¥–±–æ—Ä–∫–∏</strong> -->
            </div>

            <!-- Collection Information Form -->
            <div class="step-content active">
              <form id="collectionId">
                <section class="form-section">
                  <div class="form-field mb-1">
                    <p
                      class="js-collection-notes collection-notes d-inline-block col-12 form-input text-brand-dark-navy-50 form-input text-truncate-4 border-0 mb-0 p-0"
                    >
                      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quo, odit. Reiciendis eum tempora blanditiis deleniti ut debitis repellat aspernatur assumenda. Reiciendis accusamus deserunt voluptatem animi perspiciatis tempore et eos fuga?
                    </p>
                  </div>
                  </section>
              </form>
            </div>

            <!-- Properties Section -->
            <div class="properties-section mt-1">
              <div
                class="selection-controls mb-4 p-2 js-current-properties-search"
              >
                <div class="selection-status">
                  <span class="current-count">2</span>
                  <span class="js-current-count-text">–æ–±—ä–µ–∫—Ç–∞</span>
                </div>
                <div class="selection-actions">
                  <a
                    href="/search.html"
                    class="px-2 py-2 brand-button brand-button--solid brand-button--turquoise"
                  >
                    <i class="bi bi-search"></i> –ü–æ–∏—Å–∫ –û–±—ä–µ–∫—Ç–æ–≤
                  </a>
                </div>
              </div>

              <!-- Empty Collection State (hidden by default) -->
              <div
                class="collections-empty-state js-empty-collection"
                style="display: none"
              >
                <div class="collections-empty-state__icon">
                  <i class="bi bi-building"></i>
                </div>
                <h3 class="collections-empty-state__title">
                  –í —ç—Ç–æ–π –ø–æ–¥–±–æ—Ä–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤
                </h3>
                <p class="collections-empty-state__text">
                  –î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ —ç—Ç—É –ø–æ–¥–±–æ—Ä–∫—É
                </p>
                <a href="/search.html" class="btn btn-brand-turquoise">
                  <i class="bi bi-search"></i> –ü–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤
                </a>
              </div>

              <div class="js-current-properties">
                <!-- First Property Card -->
                <div class="col-12">
                  <div class="property-card" data-property-id="prop_1">
                    <div class="property-summary-card">
                      <div
                        class="property-summary-card__favorite-icon js-add-to-favorite"
                        role="button"
                        aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
                        tabindex="0"
                      >
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="var(--brand-bright-pink)"
                          stroke-width="2"
                        >
                          <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                          ></path>
                        </svg>
                      </div>

                      <h3
                        class="property-summary-card__title text-light-gray-30"
                      >
                        <a href="/property-view-standalone.html"
                          >–°—Ç—É–¥–∏—è, 28 –º2 | –ì–ú–†</a
                        >
                      </h3>
                      <p class="property-summary-card__price">‚ÇΩ 4 900 000</p>
                      <ul class="property-summary-card__details-list">
                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–∞</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–ñ–ö ¬´–°—Ç—Ä–∏–∂–∏¬ª</span
                          >
                        </li>

                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–£–ª–∏—Ü–∞</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–ê–≤—Ç–æ–ª—é–±–∏—Ç–µ–ª–µ–π —É–ª.</span
                          >
                        </li>

                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–°–æ—Å—Ç–æ—è–Ω–∏–µ</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–° —Ä–µ–º–æ–Ω—Ç–æ–º</span
                          >
                        </li>
                      </ul>

                      <div class="property-summary-card__phone">
                        <span class="property-summary-card__phone-label"
                          >–ê–≥–µ–Ω—Ç:</span
                        >
                        <span class="property-summary-card__phone-agent-name"
                          >–ê–ª–µ–∫—Å–µ–π</span
                        >
                        <a
                          href="tel:+7 (918) 254-25-36"
                          class="property-summary-card__phone-link"
                        >
                          üìû +7 (918) 254-25-36
                        </a>
                      </div>
                      <div
                        class="property-summary-card__footer property-summary-card__footer--actions-right"
                      >
                        <div class="d-flex flex-wrap gap-2 p-2 w-100">
                          <button
                            class="w-100 d-block brand-button brand-button--solid js-add-to-collection"
                            data-property-id="prop_1"
                          >
                            –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–æ–¥–±–æ—Ä–∫—É
                          </button>
                          <button
                            class="w-100 d-block brand-button brand-button--outline brand-button--pink js-remove-from-collection"
                            data-property-id="prop_1"
                          >
                            –£–¥–∞–ª–∏—Ç—å –∏–∑ –ø–æ–¥–±–æ—Ä–∫–∏
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="property-card" data-property-id="prop_2">
                    <div class="property-summary-card">
                      <div
                        class="property-summary-card__favorite-icon js-add-to-favorite"
                        role="button"
                        aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
                        tabindex="0"
                      >
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="var(--brand-bright-pink)"
                          stroke-width="2"
                        >
                          <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                          ></path>
                        </svg>
                      </div>

                      <h3
                        class="property-summary-card__title text-light-gray-30"
                      >
                        <a href="/property-view-standalone.html"
                          >–°—Ç—É–¥–∏—è, 28 –º2 | –ì–ú–†</a
                        >
                      </h3>
                      <p class="property-summary-card__price">‚ÇΩ 4 900 000</p>
                      <ul class="property-summary-card__details-list">
                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–∞</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–ñ–ö ¬´–°—Ç—Ä–∏–∂–∏¬ª</span
                          >
                        </li>

                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–£–ª–∏—Ü–∞</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–ê–≤—Ç–æ–ª—é–±–∏—Ç–µ–ª–µ–π —É–ª.</span
                          >
                        </li>

                        <li class="property-summary-card__detail-item">
                          <span class="property-summary-card__detail-label"
                            >–°–æ—Å—Ç–æ—è–Ω–∏–µ</span
                          >
                          <span class="property-summary-card__detail-value"
                            >–° —Ä–µ–º–æ–Ω—Ç–æ–º</span
                          >
                        </li>
                      </ul>

                      <div class="property-summary-card__phone">
                        <span class="property-summary-card__phone-label"
                          >–ê–≥–µ–Ω—Ç:</span
                        >
                        <span class="property-summary-card__phone-agent-name"
                          >–ê–ª–µ–∫—Å–µ–π</span
                        >
                        <a
                          href="tel:+7 (918) 254-25-36"
                          class="property-summary-card__phone-link"
                        >
                          üìû +7 (918) 254-25-36
                        </a>
                      </div>
                      <div
                        class="property-summary-card__footer property-summary-card__footer--actions-right"
                      >
                        <div class="d-flex flex-wrap gap-2 p-2 w-100">
                          <button
                            class="w-100 d-block brand-button brand-button--solid js-add-to-collection"
                            data-property-id="prop_2"
                          >
                            –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–æ–¥–±–æ—Ä–∫—É
                          </button>
                          <button
                            class="w-100 d-block brand-button brand-button--outline brand-button--pink js-remove-from-collection"
                            data-property-id="prop_2"
                          >
                            –£–¥–∞–ª–∏—Ç—å –∏–∑ –ø–æ–¥–±–æ—Ä–∫–∏
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <app-footer></app-footer>

    <!-- Collection Selector Popup -->
    <div class="collection-selector-popup-backdrop"></div>
    <div
      class="collection-selector-popup-container"
      id="collection-selector-popup"
    >
      <div class="collection-selector-popup">
        <div class="collection-selector-popup__header">
          <h5 class="collection-selector-popup__title">–î–æ–±–∞–≤–∏—Ç—å –≤ –ø–æ–¥–±–æ—Ä–∫—É</h5>
          <button class="collection-selector-popup__close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <div class="collection-selector-popup__body">
          <div class="collection-selector-popup__list-container">
            <div class="collection-selector-popup__empty">
              <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥–±–æ—Ä–æ–∫.</p>
            </div>
            <div class="collection-selector-popup__list"></div>
          </div>
          <div
            class="collection-selector-popup__create-new-container"
            style="display: none"
          >
            <div class="form-group mb-3">
              <label
                for="newCollectionNameInput"
                class="form-label visually-hidden"
                >–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–±–æ—Ä–∫–∏</label
              >
              <input
                type="text"
                class="form-control"
                id="newCollectionNameInput"
                placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–±–æ—Ä–∫–∏"
              />
            </div>
          </div>
        </div>
        <div class="collection-selector-popup__footer">
          <button
            class="btn btn-outline-secondary collection-selector-popup__create-new-btn"
          >
            –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é
          </button>
          <button
            class="btn btn-outline-brand-turquoise collection-selector-popup__cancel-btn"
          >
            –û—Ç–º–µ–Ω–∞
          </button>
          <button
            class="btn btn-brand-lime collection-selector-popup__save-btn"
          >
            –ì–æ—Ç–æ–≤–æ
          </button>
        </div>
      </div>
    </div>
    <!-- End Collection Selector Popup -->
    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3"></div>
    <!-- Remove Property Confirmation Modal -->
    <div
      class="modal fade"
      id="removePropertyModal"
      tabindex="-1"
      aria-labelledby="removePropertyModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="removePropertyModalLabel">
              –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–∑ –ø–æ–¥–±–æ—Ä–∫–∏
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –∏–∑ –ø–æ–¥–±–æ—Ä–∫–∏?</p>
            <input type="hidden" id="removePropertyId" />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="brand-button brand-button--outline brand-button--turquoise"
              data-bs-dismiss="modal"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button
              type="button"
              class="brand-button brand-button--solid brand-button--pink js-confirm-remove-property"
            >
              –£–¥–∞–ª–∏—Ç—å
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
